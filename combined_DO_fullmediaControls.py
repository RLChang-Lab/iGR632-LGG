############# All full media controls from dropout experiments OD600 #############
import matplotlib.pyplot as plt

raw_data = {
    "DM57": {0.05 : [0.00314827586206897, 0.0112687501109945],
0.21 : [0.0192931034482759, 0.0456953571495467],
0.38 : [0.0484413793103448, 0.0660602728965936],
0.55 : [0.0708068965517241, 0.075262492703084],
0.71 : [0.0894896551724138, 0.0799426550938125],
0.88 : [0.114820689655172, 0.0918781350458714],
1.05 : [0.134210344827586, 0.0976220494151792],
1.22 : [0.151889655172414, 0.103407261228972],
1.38 : [0.168913793103448, 0.107277213411057],
1.55 : [0.184644827586207, 0.110344902743971],
1.72 : [0.198079310344828, 0.11039233080023],
1.88 : [0.211634482758621, 0.109743536340292],
2.05 : [0.227493103448276, 0.111580656064937],
2.22 : [0.242348275862069, 0.11181967824739],
2.38 : [0.258837931034483, 0.11615798482422],
2.55 : [0.275127586206897, 0.116982608281719],
2.72 : [0.291720689655172, 0.116008088939985],
2.88 : [0.31581724137931, 0.120235560668469],
3.05 : [0.340555172413793, 0.122833637744619],
3.22 : [0.361762068965517, 0.120086443310622],
3.38 : [0.381358620689655, 0.119702561487217],
3.55 : [0.402962068965517, 0.121345529124165],
3.72 : [0.427868965517241, 0.12621405033697],
3.88 : [0.453041379310345, 0.130743526245747],
4.05 : [0.480641379310345, 0.135268488351452],
4.22 : [0.509113793103448, 0.14185659943392],
4.38 : [0.538586206896552, 0.149437661929501],
4.55 : [0.572241379310345, 0.161011538001033],
4.72 : [0.606582758620689, 0.174829359803384],
4.88 : [0.637237931034483, 0.187544614527913],
5.05 : [0.664958620689655, 0.196952137980709],
5.22 : [0.69278275862069, 0.203337276234349],
5.38 : [0.718289655172414, 0.20818586020468],
5.55 : [0.742427586206897, 0.212309487535383],
5.72 : [0.766193103448276, 0.216099368563623],
5.88 : [0.791651724137931, 0.219128529831711],
6.05 : [0.816572413793104, 0.222818511824809],
6.22 : [0.838734482758621, 0.223974622726807],
6.38 : [0.863758620689655, 0.223787200446638],
6.55 : [0.888386206896552, 0.224136832767298],
6.72 : [0.911589655172414, 0.221410940407243],
6.88 : [0.936089655172414, 0.216945991213132],
7.05 : [0.958324137931035, 0.212246949591359],
7.22 : [0.979303448275862, 0.207743374456424],
7.38 : [0.998048275862069, 0.206919844074756],
7.55 : [1.01493448275862, 0.20607221909505],
7.72 : [1.02986551724138, 0.206559296702392],
7.88 : [1.04173103448276, 0.206895320501263],
8.05 : [1.0527275862069, 0.204405639942724],
8.22 : [1.06183103448276, 0.203409302539499],
8.38 : [1.07081379310345, 0.200603220178075],
8.55 : [1.0768, 0.198573879738213],
8.72 : [1.08244137931034, 0.19735869541313],
8.88 : [1.08958620689655, 0.195550840528818],
9.05 : [1.09434482758621, 0.194700877880123],
9.22 : [1.1006275862069, 0.195061878271177],
9.38 : [1.10656206896552, 0.194790349595575],
9.55 : [1.11135862068966, 0.195205151273586],
9.72 : [1.11675172413793, 0.194774029547593],
9.88 : [1.11962068965517, 0.195526812884195],
10.05 : [1.12221034482759, 0.194705551217414],
10.22 : [1.12548620689655, 0.195278591695006],
10.38 : [1.12695862068965, 0.196073431064636],
10.55 : [1.12831034482759, 0.195169847906944],
10.72 : [1.12986551724138, 0.195824057831554],
10.88 : [1.12996551724138, 0.195085710606282],
11.05 : [1.13167931034483, 0.19558154926729],
11.22 : [1.13382413793103, 0.195979659394928],
11.38 : [1.13479655172414, 0.196690274076417],
11.55 : [1.13546551724138, 0.197467601819823],
11.72 : [1.13581379310345, 0.19720631821981],
11.88 : [1.13691724137931, 0.196770987388469],
12.05 : [1.13843448275862, 0.19640375010215]},
    "DM25": {0.05 : [0.0051, 0.00841247323219236],
0.21 : [0.0167944444444444, 0.0152777512147389],
0.38 : [0.0250277777777778, 0.0183434673719868],
0.55 : [0.0312333333333333, 0.0204013548470027],
0.71 : [0.0395777777777778, 0.0253856391246596],
0.88 : [0.0480777777777778, 0.0310074829066717],
1.05 : [0.0560277777777778, 0.0345488857130641],
1.22 : [0.0643888888888889, 0.0368662979535002],
1.38 : [0.0717611111111111, 0.0389944152351486],
1.55 : [0.0791166666666667, 0.0402166116699561],
1.72 : [0.0869944444444444, 0.0415422721102861],
1.88 : [0.0958, 0.0430733513296939],
2.05 : [0.105511111111111, 0.0427705552806551],
2.22 : [0.117577777777778, 0.0435219156371201],
2.38 : [0.1299, 0.0428419286409144],
2.55 : [0.146066666666667, 0.0420032635243468],
2.72 : [0.162683333333333, 0.0411302457788499],
2.88 : [0.179366666666667, 0.0425731232616968],
3.05 : [0.1986, 0.0415963976098607],
3.22 : [0.215533333333333, 0.0433773987447279],
3.38 : [0.238777777777778, 0.044351827172616],
3.55 : [0.273538888888889, 0.0521430402739959],
3.72 : [0.29225, 0.0617616714512934],
3.88 : [0.307161111111111, 0.060740273738341],
4.05 : [0.343466666666667, 0.0702002254422468],
4.22 : [0.425433333333333, 0.0645845596482059],
4.38 : [0.507777777777778, 0.0615013174946576],
4.55 : [0.596766666666667, 0.0327290631685298],
4.72 : [0.649527777777778, 0.0312600724104735],
4.88 : [0.682211111111111, 0.0388892045220099],
5.05 : [0.722233333333333, 0.0366333524634149],
5.22 : [0.731216666666667, 0.0379182794911838],
5.38 : [0.771916666666666, 0.038903840648129],
5.55 : [0.808066666666667, 0.0435647893123405],
5.72 : [0.846583333333333, 0.0559437368522341],
5.88 : [0.878838888888889, 0.0593040790142036],
6.05 : [0.907588888888889, 0.0606077393995441],
6.22 : [0.937111111111111, 0.0673303848900631],
6.38 : [0.9627, 0.0658029870490327],
6.55 : [0.99265, 0.0728799532784515],
6.72 : [1.00224444444444, 0.0595135474657795],
6.88 : [1.02967777777778, 0.0644759426223101],
7.05 : [1.04919444444444, 0.0642007004350825],
7.22 : [1.06968333333333, 0.0669389525653929],
7.38 : [1.08524444444444, 0.0669020368546593],
7.55 : [1.09752222222222, 0.0639404261457428],
7.72 : [1.10926111111111, 0.0615314719863219],
7.88 : [1.11963333333333, 0.0582542824467366],
8.05 : [1.13065555555556, 0.055489006520845],
8.22 : [1.13933333333333, 0.0540971246569635],
8.38 : [1.14933888888889, 0.0545996598057509],
8.55 : [1.15522777777778, 0.0514094017990774],
8.72 : [1.16441666666667, 0.0503537697568102],
8.88 : [1.17165555555556, 0.0464739198468775],
9.05 : [1.17911666666667, 0.0433442878834173],
9.22 : [1.18525555555556, 0.042664493162837],
9.38 : [1.18773333333333, 0.0412627220319308],
9.55 : [1.19098333333333, 0.0402098600802851],
9.72 : [1.19337222222222, 0.0393988708373615],
9.88 : [1.19404444444444, 0.0386933520259358],
10.05 : [1.19424444444444, 0.0369452210947027],
10.22 : [1.19442222222222, 0.0361942909048031],
10.38 : [1.19521666666667, 0.0356657374835698],
10.55 : [1.19570555555556, 0.0341780287432365],
10.72 : [1.19721111111111, 0.0331541156493616],
10.88 : [1.19784444444444, 0.0318589503983947],
11.05 : [1.19920555555556, 0.031568373217923],
11.22 : [1.1996, 0.031265565012575],
11.38 : [1.19949444444444, 0.0316082506989048],
11.55 : [1.20086666666667, 0.032980501545727],
11.72 : [1.20055555555556, 0.0333796396888837],
11.88 : [1.19927777777778, 0.034553247277819],
12.05 : [1.19933888888889, 0.0350970692084929]},
    "DM16": {0.05 : [0.00213333333333333, 0.00304611028670793],
0.21 : [0.013875, 0.010527032302169],
0.38 : [0.02415, 0.0162968764436067],
0.55 : [0.0320416666666667, 0.0194344332814131],
0.71 : [0.0381333333333333, 0.0211674421237098],
0.88 : [0.0428833333333333, 0.0222264720683707],
1.05 : [0.0471083333333333, 0.022808350079156],
1.22 : [0.0509083333333333, 0.0234985283227128],
1.38 : [0.0551166666666667, 0.0241792485533786],
1.55 : [0.0591583333333333, 0.024495471133673],
1.72 : [0.0635083333333333, 0.0248914172259265],
1.88 : [0.0682916666666667, 0.0256842880281925],
2.05 : [0.072975, 0.0260765699431501],
2.22 : [0.08, 0.0269987878515786],
2.38 : [0.0865833333333333, 0.0279111197564807],
2.55 : [0.0944583333333333, 0.029400323385152],
2.72 : [0.103341666666667, 0.03058158858866],
2.88 : [0.113616666666667, 0.0342911818331645],
3.05 : [0.123666666666667, 0.0344894538118891],
3.22 : [0.135416666666667, 0.0353066008078668],
3.38 : [0.149366666666667, 0.0385967340430233],
3.55 : [0.158475, 0.0374256869737156],
3.72 : [0.1713, 0.0402697269557532],
3.88 : [0.181, 0.0338846975384573],
4.05 : [0.194183333333333, 0.050784049631451],
4.22 : [0.21005, 0.0730566716510359],
4.38 : [0.225758333333333, 0.0741387453401125],
4.55 : [0.241325, 0.0854576463412246],
4.72 : [0.256566666666667, 0.0935364618583028],
4.88 : [0.275633333333333, 0.105621290323954],
5.05 : [0.294533333333333, 0.126983057805744],
5.22 : [0.322725, 0.133136479018542],
5.38 : [0.351566666666667, 0.14844709087038],
5.55 : [0.391108333333333, 0.138641443746963],
5.72 : [0.410291666666667, 0.138678244071621],
5.88 : [0.434291666666667, 0.143652804031319],
6.05 : [0.460875, 0.143529332605505],
6.22 : [0.498541666666667, 0.151677813193464],
6.38 : [0.523483333333333, 0.136361403719096],
6.55 : [0.546408333333333, 0.132131693660896],
6.72 : [0.575791666666667, 0.120307903906701],
6.88 : [0.597591666666667, 0.126462063721126],
7.05 : [0.622733333333333, 0.120176456122073],
7.22 : [0.6388, 0.119480702131425],
7.38 : [0.653758333333333, 0.120147866915074],
7.55 : [0.670458333333333, 0.121886761592534],
7.72 : [0.678358333333333, 0.127593826142557],
7.88 : [0.685341666666667, 0.133865396834646],
8.05 : [0.69425, 0.140244970741136],
8.22 : [0.702675, 0.144231311220427],
8.38 : [0.704891666666667, 0.149202714198645],
8.55 : [0.708158333333333, 0.153410385202172],
8.72 : [0.710666666666667, 0.15832391614738],
8.88 : [0.711425, 0.160647927440441],
9.05 : [0.710633333333333, 0.163026541806338],
9.22 : [0.71075, 0.164128278545112],
9.38 : [0.71, 0.165557625232809],
9.55 : [0.708916666666667, 0.166591950222056],
9.72 : [0.706458333333333, 0.166666343105747],
9.88 : [0.706166666666667, 0.168720426813834],
10.05 : [0.705316666666667, 0.169089491277862],
10.22 : [0.7033, 0.169901982438003],
10.38 : [0.702891666666667, 0.170145255902305],
10.55 : [0.70265, 0.170807837269626],
10.72 : [0.701066666666667, 0.170618960543574],
10.88 : [0.699716666666667, 0.170958096052982],
11.05 : [0.698608333333333, 0.170777247038535],
11.22 : [0.69685, 0.172055421832089],
11.38 : [0.696541666666667, 0.173720948955675],
11.55 : [0.695308333333333, 0.172628141908519],
11.72 : [0.694675, 0.174076519877689],
11.88 : [0.6934, 0.173997528718083],
12.05 : [0.693116666666667, 0.175251631211879]},
    "DM13": {0.05 : [0.00974, 0.00265103753274072],
0.21 : [0.02354, 0.00546744913099336],
0.38 : [0.03376, 0.00631411118052254],
0.55 : [0.04572, 0.00662510377277217],
0.71 : [0.0494, 0.00741383841205078],
0.88 : [0.06026, 0.0082469994543471],
1.05 : [0.06286, 0.00730841980184499],
1.22 : [0.07548, 0.00830945244886809],
1.38 : [0.07584, 0.00589686357312088],
1.55 : [0.08238, 0.00518430323187215],
1.72 : [0.09436, 0.00415367307331716],
1.88 : [0.1033, 0.00506112635684982],
2.05 : [0.11562, 0.00492006097523191],
2.22 : [0.12602, 0.00581824715872401],
2.38 : [0.1296, 0.00439146900250929],
2.55 : [0.14044, 0.00388690107926609],
2.72 : [0.15076, 0.00515732488796275],
2.88 : [0.16514, 0.00618974959105778],
3.05 : [0.17656, 0.00936445406844414],
3.22 : [0.19166, 0.0123926591173969],
3.38 : [0.2058, 0.017749507035408],
3.55 : [0.22062, 0.021676877081351],
3.72 : [0.24126, 0.0272834748520052],
3.88 : [0.26564, 0.0291045185495311],
4.05 : [0.29114, 0.0344151565447549],
4.22 : [0.31508, 0.0351828367247441],
4.38 : [0.33976, 0.0403025185317249],
4.55 : [0.36672, 0.0409846556652609],
4.72 : [0.4013, 0.0461337728784457],
4.88 : [0.43074, 0.0513580860235272],
5.05 : [0.4666, 0.0562862771908039],
5.22 : [0.50324, 0.0619716709472973],
5.38 : [0.5389, 0.0567720001409145],
5.55 : [0.58076, 0.0641212757203099],
5.72 : [0.6173, 0.0711885524505166],
5.88 : [0.65998, 0.0792303414103467],
6.05 : [0.70138, 0.0847477846318124],
6.22 : [0.74658, 0.0830986883169644],
6.38 : [0.78498, 0.0805201651761843],
6.55 : [0.82464, 0.0734943399181188],
6.72 : [0.85296, 0.0702688266587681],
6.88 : [0.8945, 0.0668098795089469],
7.05 : [0.929, 0.0645595461570169],
7.22 : [0.96164, 0.064901756524766],
7.38 : [0.99362, 0.0662749726518239],
7.55 : [1.01852, 0.0774220382061852],
7.72 : [1.05218, 0.0767435469599887],
7.88 : [1.08966, 0.0539836827198738],
8.05 : [1.12054, 0.0467699476159639],
8.22 : [1.14484, 0.0406640873498963],
8.38 : [1.1606, 0.0360389372762294],
8.55 : [1.17634, 0.0412149608758762],
8.72 : [1.18746, 0.0379105921874086],
8.88 : [1.19392, 0.0388118152113503],
9.05 : [1.20262, 0.0333499175411274],
9.22 : [1.2077, 0.0346218861415723],
9.38 : [1.2113, 0.0369057583582834],
9.55 : [1.21642, 0.040599778324518],
9.72 : [1.2179, 0.0428784911115118],
9.88 : [1.21554, 0.045049561596091],
10.05 : [1.21534, 0.0442607388099205],
10.22 : [1.21206, 0.0427857803481484],
10.38 : [1.209, 0.0447728154129266],
10.55 : [1.20776, 0.0485460915007584],
10.72 : [1.20412, 0.0482256881754941],
10.88 : [1.20336, 0.0504318649268496],
11.05 : [1.20116, 0.0512547363665057],
11.22 : [1.19728, 0.0514456703717621],
11.38 : [1.1948, 0.0515267406304726],
11.55 : [1.192, 0.0524503098179601],
11.72 : [1.1885, 0.0526389589562712],
11.88 : [1.18704, 0.0538212597399949],
12.05 : [1.18376, 0.05328708098592]}}

colors = {"DM57": "#6f9969", "DM25": "#5c66a8", "DM16": "#848ec7", "DM13": "#464a74"}
plt.figure(figsize=(10,6))
legend_handles = []

replicates = {"DM57": 29, "DM25": 18, "DM16": 12, "DM13": 5}

for media, points in raw_data.items():
    times = sorted(points.keys())
    means = [points[t][0] for t in times]
    sds   = [points[t][1] for t in times]
    label = f"{media} (n={replicates[media]})"
    # Plot line
    line, = plt.plot(times, means, color=colors.get(media, "black"), label=label)
    legend_handles.append(line)

    # Shaded stdev region
    lower = [m - s for m, s in zip(means, sds)]
    upper = [m + s for m, s in zip(means, sds)]
    plt.fill_between(times, lower, upper, color=colors.get(media, "black"), alpha=0.2)

plt.xlabel("Duration (hr)", fontsize=18)
plt.ylabel("OD600", fontsize=18)
plt.xticks(fontsize=18)
plt.yticks(fontsize=18)
plt.legend(handles=legend_handles, fontsize=20)
plt.tight_layout()
plt.savefig("/Users/grichmond/Desktop/Papers/fish/current_figures/code_generated_panels/OD600_allMedia_DOposControls.svg", format="svg")
plt.show()
